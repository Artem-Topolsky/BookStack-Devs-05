import{a as p,S as b,i as P}from"./assets/vendor-CyMGiFMi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const d=document.querySelector(".books-list"),a=document.querySelector(".books-dropdown-menu"),f=document.querySelector(".books-counter"),u=document.querySelector(".show-more-btn"),m=document.querySelector(".dropdown-btn"),w=document.querySelector(".empty-message"),M=document.querySelector(".dropdown-btn-text"),q="https://books-backend.p.goit.global/books/top-books",I="https://books-backend.p.goit.global/books/category-list",T="https://books-backend.p.goit.global/books/category?category";let l=[],c=Math.min(window.innerWidth>=768?24:10,l.length);const B=4;window.addEventListener("resize",g);window.addEventListener("DOMContentLoaded",g);function g(){window.innerWidth>=1440?(a.classList.remove("visually-hidden"),m.style.display="none"):(a.classList.add("visually-hidden"),m.style.display="block")}m.addEventListener("click",()=>{a.classList.toggle("visually-hidden")});async function x(){try{const t=(await p.get(I)).data;console.log(t);const r=t.filter(e=>typeof e.list_name=="string"&&e.list_name.trim()!==""),n=document.createElement("li");n.dataset.value="all",n.textContent="All categories",a.appendChild(n),r.forEach(e=>{const o=document.createElement("li");o.textContent=e.list_name,o.dataset.value=e.list_name,a.appendChild(o)})}catch(s){console.log(s.message)}}async function y(s){try{let t=[];if(s==="all"?t=(await p.get(q)).data.flatMap(e=>e.books):t=(await p.get(`${T}=${s}`)).data,l=t,!Array.isArray(t)||t.length===0){d.innerHTML="",d.classList.add("hidden"),w.classList.remove("visually-hidden"),f.textContent="0 books available",u.classList.add("visually-hidden");return}else d.classList.remove("hidden"),w.classList.add("visually-hidden");const r=window.innerWidth>=768?24:10;c=Math.min(r,l.length),L(),k(),E(),window.scrollTo({top:d.offsetTop-20,behavior:"smooth"})}catch(t){console.log(t.message)}}function L(){d.innerHTML="";const s=l.slice(0,c);d.innerHTML=s.map(({_id:t,book_image:r,title:n,author:e,price:o})=>` <li class="book-list-card">
        <img class="books-card-img" src="${r}" alt="${n}"/>
        <h4 class="books-card-title">${n.toLowerCase()}</h4>
        <p class="books-card-price">&#x24;${Math.ceil(o)}</p>
        <p class="books-card-author">${e}</p>
        <button class="learn-more-btn" data-book-id="${t}">Learn More</button>    
        </li>
        `).join("")}function k(){f.innerHTML=`Showing ${Math.min(c,l.length)} of ${l.length}`}function E(){c>=l.length?u.classList.add("visually-hidden"):u.classList.remove("visually-hidden")}u.addEventListener("click",()=>{u.disabled=!0,c+=B,c=Math.min(c,l.length),L(),k(),E(),u.disabled=!1});a.addEventListener("click",O);async function O(s){const t=s.target.closest("li");if(!t)return;a.querySelectorAll("li").forEach(e=>e.classList.remove("is-active")),t.classList.add("is-active");const n=t.dataset.value;M.textContent=t.textContent;try{await y(n)}catch(e){console.log(e.message)}window.innerWidth<1440&&a.classList.add("visually-hidden")}document.addEventListener("DOMContentLoaded",async()=>{await x(),await y("all")});new b(".events-swiper",{slidesPerView:1,spaceBetween:24,loop:!1,autoHeight:!1,observer:!0,observeParents:!0,watchSlidesProgress:!0,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});new b(".feedback-swiper",{slidesPerView:1,spaceBetween:24,loop:!1,autoHeight:!1,observer:!0,observeParents:!0,watchSlidesProgress:!0,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});const V=document.querySelector(".footer-subscribe-form"),A=document.getElementById("footer-email-subscribe"),h=document.querySelector(".footer-signup-btn");document.querySelector(".footer-required-note");V.addEventListener("submit",function(s){s.preventDefault(),P.success({title:"Success",message:"Email format is correct",position:"bottomRight",timeout:3e3,backgroundColor:"#ffffff"}),A.value="",h.disabled=!0,h.classList.add("disabled")});document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector(".burger-menu"),t=document.querySelector(".close-navbar-btn"),r=document.querySelector(".navbar-overlay"),n=document.querySelectorAll(".navbar-list a"),e=document.querySelector(".header");let o=0;window.addEventListener("scroll",()=>{const i=window.scrollY||document.documentElement.scrollTop;i>o?e.classList.add("header--hidden"):e.classList.remove("header--hidden"),o=i<=0?0:i}),s.addEventListener("click",()=>{r.classList.add("active"),document.body.classList.add("no-scroll")}),t.addEventListener("click",()=>{r.classList.remove("active"),document.body.classList.remove("no-scroll")}),n.forEach(i=>{i.addEventListener("click",S=>{S.preventDefault();const C=i.getAttribute("href").slice(1),v=document.getElementById(C);v&&v.scrollIntoView({behavior:"smooth"}),r.classList.remove("active"),document.body.classList.remove("no-scroll")})}),window.addEventListener("resize",()=>{window.innerWidth>=768&&r.classList.contains("active")&&(r.classList.remove("active"),document.body.classList.remove("no-scroll"))})});new b(".hero-swiper",{slidesPerView:1,loop:!1,autoHeight:!1,observer:!0,observeParents:!0,watchSlidesProgress:!0,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".hero-swiper-button-next",prevEl:".hero-swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:1},1440:{slidesPerView:1}}});document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("back-to-top");window.addEventListener("scroll",()=>{s.style.display=window.scrollY>300?"block":"none"}),s.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})});
//# sourceMappingURL=index.js.map
