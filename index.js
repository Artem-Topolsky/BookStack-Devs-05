import{a as u,S,i as C}from"./assets/vendor-CyMGiFMi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const m=document.querySelector(".books-list"),l=document.querySelector(".books-dropdown-menu"),g=document.querySelector(".books-counter"),d=document.querySelector(".show-more-btn"),h=document.querySelector(".dropdown-btn"),p=document.querySelector(".empty-message"),q="https://books-backend.p.goit.global/books/top-books",M="https://books-backend.p.goit.global/books/category-list",P="https://books-backend.p.goit.global/books/category?category";let c=[],a=Math.min(window.innerWidth>=768?24:10,c.length);const B=4;h.addEventListener("click",()=>{l.hidden=!l.hidden});async function I(){try{const t=(await u.get(M)).data,o=document.createElement("li");o.dataset.value="all",o.textContent="All categories",l.appendChild(o),t.forEach(r=>{const e=document.createElement("li");e.textContent=r.list_name,e.dataset.value=r.list_name,l.appendChild(e)})}catch(n){console.log(n.message)}}async function y(n){try{let t=[];if(n==="all"?t=(await u.get(q)).data.flatMap(r=>r.books):t=(await u.get(`${P}=${n}`)).data,c=t,!Array.isArray(t)||t.length===0){m.innerHTML="",p.classList.remove("visually-hidden"),g.textContent="0 books available",d.classList.add("visually-hidden");return}else p.classList.add("visually-hidden");a=a=Math.min(window.innerWidth>=768?24:10,c.length),v(),L(),w()}catch(t){console.log(t.message)}}function v(){m.innerHTML="";const n=c.slice(0,a);m.innerHTML=n.map(({_id:t,book_image:o,title:r,author:e,price:s})=>` <li class="book-list-card">
        <img class="books-card-img" src="${o}" alt="${r}"/>
        <h4 class="books-card-title">${r}</h4>
        <p class="books-card-price">${Math.floor(s)}</p>
        <p class="books-card-author">${e}</p>
        <button class="learn-more-btn" data-book-id="${t}">Learn More</button>    
        </li>
        `).join("")}function L(){g.innerHTML=`Showing ${a} of ${c.length}`}function w(){a>=c.length?d.classList.add("visually-hidden"):d.classList.remove("visually-hidden")}d.addEventListener("click",()=>{a+=B,a>=c.length&&(a=c.length),v(),L(),w()});l.addEventListener("click",O);function O(n){const t=n.target.closest("li");if(!t)return;const o=t.dataset.value;h.textContent=t.textContent,y(o),l.hidden=!0}document.addEventListener("DOMContentLoaded",async()=>{await I(),await y("all")});new S(".feedback-swiper",{slidesPerView:1,spaceBetween:24,loop:!1,autoHeight:!1,observer:!0,observeParents:!0,watchSlidesProgress:!0,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});const T=document.querySelector(".footer-subscribe-form"),A=document.getElementById("footer-email-subscribe"),f=document.querySelector(".footer-signup-btn");document.querySelector(".footer-required-note");T.addEventListener("submit",function(n){n.preventDefault(),C.success({title:"Success",message:"Email format is incorrect. Example: user@example.com",position:"bottomRight",timeout:3e3,backgroundColor:"#ffffff"}),A.value="",f.disabled=!0,f.classList.add("disabled")});document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector(".burger-menu"),t=document.querySelector(".close-navbar-btn"),o=document.querySelector(".navbar-overlay"),r=document.querySelectorAll(".navbar-list a"),e=document.querySelector(".header");let s=0;window.addEventListener("scroll",()=>{const i=window.scrollY||document.documentElement.scrollTop;i>s?e.classList.add("header--hidden"):e.classList.remove("header--hidden"),s=i<=0?0:i}),n.addEventListener("click",()=>{o.classList.add("active"),document.body.classList.add("no-scroll")}),t.addEventListener("click",()=>{o.classList.remove("active"),document.body.classList.remove("no-scroll")}),r.forEach(i=>{i.addEventListener("click",k=>{k.preventDefault();const E=i.getAttribute("href").slice(1),b=document.getElementById(E);b&&b.scrollIntoView({behavior:"smooth"}),o.classList.remove("active"),document.body.classList.remove("no-scroll")})}),window.addEventListener("resize",()=>{window.innerWidth>=768&&o.classList.contains("active")&&(o.classList.remove("active"),document.body.classList.remove("no-scroll"))})});
//# sourceMappingURL=index.js.map
