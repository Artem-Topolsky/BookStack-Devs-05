import{a as u,S as E}from"./assets/vendor-DS9FuNQt.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const m=document.querySelector(".books-list"),c=document.querySelector(".books-dropdown-menu"),f=document.querySelector(".books-counter"),d=document.querySelector(".show-more-btn"),v=document.querySelector(".dropdown-btn"),p=document.querySelector(".empty-message"),S="https://books-backend.p.goit.global/books/top-books",C="https://books-backend.p.goit.global/books/category-list",q="https://books-backend.p.goit.global/books/category?category";let l=[],a=Math.min(window.innerWidth>=768?24:10,l.length);const P=4;v.addEventListener("click",()=>{c.hidden=!c.hidden});async function M(){try{const e=(await u.get(C)).data,o=document.createElement("li");o.dataset.value="all",o.textContent="All categories",c.appendChild(o),e.forEach(s=>{const t=document.createElement("li");t.textContent=s.list_name,t.dataset.value=s.list_name,c.appendChild(t)})}catch(r){console.log(r.message)}}async function h(r){try{let e=[];if(r==="all"?e=(await u.get(S)).data.flatMap(s=>s.books):e=(await u.get(`${q}=${r}`)).data,l=e,!Array.isArray(e)||e.length===0){m.innerHTML="",p.classList.remove("visually-hidden"),f.textContent="0 books available",d.classList.add("visually-hidden");return}else p.classList.add("visually-hidden");a=a=Math.min(window.innerWidth>=768?24:10,l.length),g(),y(),L()}catch(e){console.log(e.message)}}function g(){m.innerHTML="";const r=l.slice(0,a);m.innerHTML=r.map(({_id:e,book_image:o,title:s,author:t,price:n})=>` <li class="book-list-card">
        <img class="books-card-img" src="${o}" alt="${s}"/>
        <h4 class="books-card-title">${s}</h4>
        <p class="books-card-price">${Math.floor(n)}</p>
        <p class="books-card-author">${t}</p>
        <button class="learn-more-btn" data-book-id="${e}">Learn More</button>    
        </li>
        `).join("")}function y(){f.innerHTML=`Showing ${a} of ${l.length}`}function L(){a>=l.length?d.classList.add("visually-hidden"):d.classList.remove("visually-hidden")}d.addEventListener("click",()=>{a+=P,a>=l.length&&(a=l.length),g(),y(),L()});c.addEventListener("click",B);function B(r){const e=r.target.closest("li");if(!e)return;const o=e.dataset.value;v.textContent=e.textContent,h(o),c.hidden=!0}document.addEventListener("DOMContentLoaded",async()=>{await M(),await h("all")});new E(".feedback-swiper",{slidesPerView:1,spaceBetween:24,loop:!1,autoHeight:!1,observer:!0,observeParents:!0,watchSlidesProgress:!0,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});document.addEventListener("DOMContentLoaded",function(){const r=document.querySelector(".footer-subscribe-form"),e=document.getElementById("footer-email-subscribe"),o=document.querySelector(".footer-required-note"),s=document.querySelector(".footer-signup-btn"),t=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function n(){e.value.trim()===""?s.disabled=!0:s.disabled=!1}n(),e.addEventListener("input",n),r.addEventListener("submit",function(i){t.test(e.value)?(o.textContent="* Required field",o.style.color=""):(i.preventDefault(),o.textContent="Please enter a valid email address.",o.style.color="red",e.value="",e.focus(),n())})});document.addEventListener("DOMContentLoaded",function(){const r=document.querySelector(".burger-menu"),e=document.querySelector(".close-navbar-btn"),o=document.querySelector(".navbar-overlay"),s=document.querySelectorAll(".navbar-list a"),t=document.querySelector(".header");let n=0;window.addEventListener("scroll",()=>{const i=window.scrollY||document.documentElement.scrollTop;i>n?t.classList.add("header--hidden"):t.classList.remove("header--hidden"),n=i<=0?0:i}),r.addEventListener("click",()=>{o.classList.add("active"),document.body.classList.add("no-scroll")}),e.addEventListener("click",()=>{o.classList.remove("active"),document.body.classList.remove("no-scroll")}),s.forEach(i=>{i.addEventListener("click",w=>{w.preventDefault();const k=i.getAttribute("href").slice(1),b=document.getElementById(k);b&&b.scrollIntoView({behavior:"smooth"}),o.classList.remove("active"),document.body.classList.remove("no-scroll")})}),window.addEventListener("resize",()=>{window.innerWidth>=768&&o.classList.contains("active")&&(o.classList.remove("active"),document.body.classList.remove("no-scroll"))})});
//# sourceMappingURL=index.js.map
