import{a as u,S as g,i as C}from"./assets/vendor-CyMGiFMi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();const m=document.querySelector(".books-list"),c=document.querySelector(".books-dropdown-menu"),v=document.querySelector(".books-counter"),d=document.querySelector(".show-more-btn"),h=document.querySelector(".dropdown-btn"),p=document.querySelector(".empty-message"),P="https://books-backend.p.goit.global/books/top-books",q="https://books-backend.p.goit.global/books/category-list",M="https://books-backend.p.goit.global/books/category?category";let l=[],a=Math.min(window.innerWidth>=768?24:10,l.length);const B=4;h.addEventListener("click",()=>{c.hidden=!c.hidden});async function I(){try{const t=(await u.get(q)).data,s=document.createElement("li");s.dataset.value="all",s.textContent="All categories",c.appendChild(s),t.forEach(r=>{const e=document.createElement("li");e.textContent=r.list_name,e.dataset.value=r.list_name,c.appendChild(e)})}catch(o){console.log(o.message)}}async function y(o){try{let t=[];if(o==="all"?t=(await u.get(P)).data.flatMap(r=>r.books):t=(await u.get(`${M}=${o}`)).data,l=t,!Array.isArray(t)||t.length===0){m.innerHTML="",p.classList.remove("visually-hidden"),v.textContent="0 books available",d.classList.add("visually-hidden");return}else p.classList.add("visually-hidden");a=a=Math.min(window.innerWidth>=768?24:10,l.length),w(),L(),k()}catch(t){console.log(t.message)}}function w(){m.innerHTML="";const o=l.slice(0,a);m.innerHTML=o.map(({_id:t,book_image:s,title:r,author:e,price:n})=>` <li class="book-list-card">
        <img class="books-card-img" src="${s}" alt="${r}"/>
        <h4 class="books-card-title">${r}</h4>
        <p class="books-card-price">${Math.floor(n)}</p>
        <p class="books-card-author">${e}</p>
        <button class="learn-more-btn" data-book-id="${t}">Learn More</button>    
        </li>
        `).join("")}function L(){v.innerHTML=`Showing ${a} of ${l.length}`}function k(){a>=l.length?d.classList.add("visually-hidden"):d.classList.remove("visually-hidden")}d.addEventListener("click",()=>{a+=B,a>=l.length&&(a=l.length),w(),L(),k()});c.addEventListener("click",O);function O(o){const t=o.target.closest("li");if(!t)return;const s=t.dataset.value;h.textContent=t.textContent,y(s),c.hidden=!0}document.addEventListener("DOMContentLoaded",async()=>{await I(),await y("all")});new g(".events-swiper",{slidesPerView:1,spaceBetween:24,loop:!1,autoHeight:!1,observer:!0,observeParents:!0,watchSlidesProgress:!0,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});new g(".feedback-swiper",{slidesPerView:1,spaceBetween:24,loop:!1,autoHeight:!1,observer:!0,observeParents:!0,watchSlidesProgress:!0,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});const T=document.querySelector(".footer-subscribe-form"),A=document.getElementById("footer-email-subscribe"),f=document.querySelector(".footer-signup-btn");document.querySelector(".footer-required-note");T.addEventListener("submit",function(o){o.preventDefault(),C.success({title:"Success",message:"Email format is correct",position:"bottomRight",timeout:3e3,backgroundColor:"#ffffff"}),A.value="",f.disabled=!0,f.classList.add("disabled")});document.addEventListener("DOMContentLoaded",function(){const o=document.querySelector(".burger-menu"),t=document.querySelector(".close-navbar-btn"),s=document.querySelector(".navbar-overlay"),r=document.querySelectorAll(".navbar-list a"),e=document.querySelector(".header");let n=0;window.addEventListener("scroll",()=>{const i=window.scrollY||document.documentElement.scrollTop;i>n?e.classList.add("header--hidden"):e.classList.remove("header--hidden"),n=i<=0?0:i}),o.addEventListener("click",()=>{s.classList.add("active"),document.body.classList.add("no-scroll")}),t.addEventListener("click",()=>{s.classList.remove("active"),document.body.classList.remove("no-scroll")}),r.forEach(i=>{i.addEventListener("click",E=>{E.preventDefault();const S=i.getAttribute("href").slice(1),b=document.getElementById(S);b&&b.scrollIntoView({behavior:"smooth"}),s.classList.remove("active"),document.body.classList.remove("no-scroll")})}),window.addEventListener("resize",()=>{window.innerWidth>=768&&s.classList.contains("active")&&(s.classList.remove("active"),document.body.classList.remove("no-scroll"))})});document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("back-to-top");window.addEventListener("scroll",()=>{o.style.display=window.scrollY>300?"block":"none"}),o.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})});
//# sourceMappingURL=index.js.map
