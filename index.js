import{a as u,S,i as C}from"./assets/vendor-CyMGiFMi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();const m=document.querySelector(".books-list"),l=document.querySelector(".books-dropdown-menu"),g=document.querySelector(".books-counter"),d=document.querySelector(".show-more-btn"),h=document.querySelector(".dropdown-btn"),p=document.querySelector(".empty-message"),q="https://books-backend.p.goit.global/books/top-books",M="https://books-backend.p.goit.global/books/category-list",P="https://books-backend.p.goit.global/books/category?category";let a=[],c=Math.min(window.innerWidth>=768?24:10,a.length);const B=4;h.addEventListener("click",()=>{l.hidden=!l.hidden});async function I(){try{const t=(await u.get(M)).data,n=document.createElement("li");n.dataset.value="all",n.textContent="All categories",l.appendChild(n),t.forEach(r=>{const e=document.createElement("li");e.textContent=r.list_name,e.dataset.value=r.list_name,l.appendChild(e)})}catch(o){console.log(o.message)}}async function v(o){try{let t=[];if(o==="all"?t=(await u.get(q)).data.flatMap(r=>r.books):t=(await u.get(`${P}=${o}`)).data,a=t,!Array.isArray(t)||t.length===0){m.innerHTML="",p.classList.remove("visually-hidden"),g.textContent="0 books available",d.classList.add("visually-hidden");return}else p.classList.add("visually-hidden");c=c=Math.min(window.innerWidth>=768?24:10,a.length),y(),L(),w()}catch(t){console.log(t.message)}}function y(){m.innerHTML="";const o=a.slice(0,c);m.innerHTML=o.map(({_id:t,book_image:n,title:r,author:e,price:s})=>` <li class="book-list-card">
        <img class="books-card-img" src="${n}" alt="${r}"/>
        <h4 class="books-card-title">${r}</h4>
        <p class="books-card-price">${Math.floor(s)}</p>
        <p class="books-card-author">${e}</p>
        <button class="learn-more-btn" data-book-id="${t}">Learn More</button>    
        </li>
        `).join("")}function L(){g.innerHTML=`Showing ${c} of ${a.length}`}function w(){c>=a.length?d.classList.add("visually-hidden"):d.classList.remove("visually-hidden")}d.addEventListener("click",()=>{c+=B,c>=a.length&&(c=a.length),y(),L(),w()});l.addEventListener("click",O);function O(o){const t=o.target.closest("li");if(!t)return;const n=t.dataset.value;h.textContent=t.textContent,v(n),l.hidden=!0}document.addEventListener("DOMContentLoaded",async()=>{await I(),await v("all")});new S(".feedback-swiper",{slidesPerView:1,spaceBetween:24,loop:!1,autoHeight:!1,observer:!0,observeParents:!0,watchSlidesProgress:!0,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});const T=document.querySelector(".footer-subscribe-form"),A=document.getElementById("footer-email-subscribe"),f=document.querySelector(".footer-signup-btn");document.querySelector(".footer-required-note");T.addEventListener("submit",function(o){o.preventDefault(),C.success({title:"Success",message:"Email format is correct",position:"bottomRight",timeout:3e3,backgroundColor:"#ffffff"}),A.value="",f.disabled=!0,f.classList.add("disabled")});document.addEventListener("DOMContentLoaded",function(){const o=document.querySelector(".burger-menu"),t=document.querySelector(".close-navbar-btn"),n=document.querySelector(".navbar-overlay"),r=document.querySelectorAll(".navbar-list a"),e=document.querySelector(".header");let s=0;window.addEventListener("scroll",()=>{const i=window.scrollY||document.documentElement.scrollTop;i>s?e.classList.add("header--hidden"):e.classList.remove("header--hidden"),s=i<=0?0:i}),o.addEventListener("click",()=>{n.classList.add("active"),document.body.classList.add("no-scroll")}),t.addEventListener("click",()=>{n.classList.remove("active"),document.body.classList.remove("no-scroll")}),r.forEach(i=>{i.addEventListener("click",k=>{k.preventDefault();const E=i.getAttribute("href").slice(1),b=document.getElementById(E);b&&b.scrollIntoView({behavior:"smooth"}),n.classList.remove("active"),document.body.classList.remove("no-scroll")})}),window.addEventListener("resize",()=>{window.innerWidth>=768&&n.classList.contains("active")&&(n.classList.remove("active"),document.body.classList.remove("no-scroll"))})});document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("back-to-top");window.addEventListener("scroll",()=>{o.style.display=window.scrollY>300?"block":"none"}),o.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})});
//# sourceMappingURL=index.js.map
