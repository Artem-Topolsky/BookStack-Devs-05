{"version":3,"file":"index.js","sources":["../src/js/books.js","../src/js/events.js","../src/js/feedback.js","../src/js/footer.js","../src/js/header.js","../src/js/hero.js","../src/js/btn-back-to-start.js"],"sourcesContent":["import axios from 'axios';\nexport const bookList = document.querySelector('.books-list');\nconst dropdownMenu = document.querySelector('.books-dropdown-menu');\nconst booksCounter = document.querySelector('.books-counter');\nconst showMoreBtn = document.querySelector('.show-more-btn');\nconst dropdownBtn = document.querySelector('.dropdown-btn');\nconst emptyMessage = document.querySelector('.empty-message');\n\nconst API_TOP = 'https://books-backend.p.goit.global/books/top-books';\nconst API_CATEGORIES =\n  'https://books-backend.p.goit.global/books/category-list';\nconst API_SELECTED_CATEGORY =\n  'https://books-backend.p.goit.global/books/category?category';\n\nexport let allBooks = [];\nlet visibleCount = Math.min(\n  window.innerWidth >= 768 ? 24 : 10,\n  allBooks.length\n);\nconst booksPerPage = 4;\ndropdownBtn.addEventListener('click', () => {\n  dropdownMenu.hidden = !dropdownMenu.hidden;\n});\n\nasync function loadCategories() {\n  try {\n    const response = await axios.get(API_CATEGORIES);\n    const categories = response.data;\n\n    const allCategoriesItem = document.createElement('li');\n    allCategoriesItem.dataset.value = 'all';\n    allCategoriesItem.textContent = 'All categories';\n    dropdownMenu.appendChild(allCategoriesItem);\n\n    categories.forEach(cat => {\n      const menuItem = document.createElement('li');\n      menuItem.textContent = cat.list_name;\n      menuItem.dataset.value = cat.list_name;\n      dropdownMenu.appendChild(menuItem);\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function loadBooksByCategory(category) {\n  try {\n    let books = [];\n    if (category === 'all') {\n      const response = await axios.get(API_TOP);\n      books = response.data.flatMap(item => item.books);\n    } else {\n      const response = await axios.get(`${API_SELECTED_CATEGORY}=${category}`);\n      books = response.data;\n    }\n\n    allBooks = books;\n    if (!Array.isArray(books) || books.length === 0) {\n      bookList.innerHTML = '';\n      emptyMessage.classList.remove('visually-hidden');\n      booksCounter.textContent = '0 books available';\n      showMoreBtn.classList.add('visually-hidden');\n      return;\n    } else {\n      emptyMessage.classList.add('visually-hidden');\n    }\n\n    visibleCount = visibleCount = Math.min(\n      window.innerWidth >= 768 ? 24 : 10,\n      allBooks.length\n    );\n\n    renderBooks();\n    updateCounter();\n    checkVisibilityButton();\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction renderBooks() {\n  bookList.innerHTML = '';\n  const booksToShow = allBooks.slice(0, visibleCount);\n\n  bookList.innerHTML = booksToShow\n    .map(({ _id, book_image, title, author, price }) => {\n      return ` <li class=\"book-list-card\">\n        <img class=\"books-card-img\" src=\"${book_image}\" alt=\"${title}\"/>\n        <h4 class=\"books-card-title\">${title}</h4>\n        <p class=\"books-card-price\">${Math.floor(price)}</p>\n        <p class=\"books-card-author\">${author}</p>\n        <button class=\"learn-more-btn\" data-book-id=\"${_id}\">Learn More</button>    \n        </li>\n        `;\n    })\n    .join('');\n}\nfunction updateCounter() {\n  booksCounter.innerHTML = `Showing ${visibleCount} of ${allBooks.length}`;\n}\nfunction checkVisibilityButton() {\n  if (visibleCount >= allBooks.length) {\n    showMoreBtn.classList.add('visually-hidden');\n  } else {\n    showMoreBtn.classList.remove('visually-hidden');\n  }\n}\n\nshowMoreBtn.addEventListener('click', () => {\n  visibleCount += booksPerPage;\n  if (visibleCount >= allBooks.length) {\n    visibleCount = allBooks.length;\n  }\n  renderBooks();\n  updateCounter();\n  checkVisibilityButton();\n});\n\ndropdownMenu.addEventListener('click', handleClickOnDropdown);\nfunction handleClickOnDropdown(event) {\n  const elementLi = event.target.closest('li');\n  if (!elementLi) {\n    return;\n  }\n  const selectedCategory = elementLi.dataset.value;\n  dropdownBtn.textContent = elementLi.textContent;\n  loadBooksByCategory(selectedCategory);\n  dropdownMenu.hidden = true;\n}\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  await loadCategories();\n  await loadBooksByCategory('all');\n});\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nconst swiper = new Swiper('.events-swiper', {\n    slidesPerView: 1,\n    spaceBetween: 24,\n    loop: false,\n    autoHeight: false,\n    observer: true,\n    observeParents: true,\n    watchSlidesProgress: true,\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n    },\n    breakpoints: {\n      768: {\n        slidesPerView: 2,\n      },\n      1440: {\n        slidesPerView: 3,\n      }\n    }\n});","import Swiper from 'swiper/bundle';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nconst swiper = new Swiper('.feedback-swiper', {\n    slidesPerView: 1,\n    spaceBetween: 24,\n    loop: false,\n    autoHeight: false,\n    observer: true,\n    observeParents: true,\n    watchSlidesProgress: true,\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n    },\n    breakpoints: {\n      768: {\n        slidesPerView: 2,\n      },\n      1440: {\n        slidesPerView: 3,\n      }\n    }\n});","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.footer-subscribe-form');\nconst emailInput = document.getElementById('footer-email-subscribe');\nconst submitBtn = document.querySelector('.footer-signup-btn');\nconst requiredNote = document.querySelector('.footer-required-note');\n\nform.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  iziToast.success({\n    title: 'Success',\n    message: 'Email format is correct',\n    position: 'bottomRight',\n    timeout: 3000,\n    backgroundColor: '#ffffff',\n  });\n\n  emailInput.value = '';\n  submitBtn.disabled = true;\n  submitBtn.classList.add('disabled');\n});\n","document.addEventListener(\"DOMContentLoaded\", function () {\n  const burgerBtn = document.querySelector(\".burger-menu\");\n  const closeBtn = document.querySelector(\".close-navbar-btn\");\n  const navbarOverlay = document.querySelector(\".navbar-overlay\");\n  const navLinks = document.querySelectorAll(\".navbar-list a\");\n  const header = document.querySelector(\".header\");\n  \n  let lastScrollTop = 0;\n\n  window.addEventListener(\"scroll\", () => {\n    const scrollTop = window.scrollY || document.documentElement.scrollTop;\n\n    if (scrollTop > lastScrollTop) {\n\n      header.classList.add(\"header--hidden\");\n    } else {\n\n      header.classList.remove(\"header--hidden\");\n    }\n\n    lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;\n  });\n\n  burgerBtn.addEventListener(\"click\", () => {\n    navbarOverlay.classList.add(\"active\");\n    document.body.classList.add(\"no-scroll\");\n  });\n\n  closeBtn.addEventListener(\"click\", () => {\n    navbarOverlay.classList.remove(\"active\");\n    document.body.classList.remove(\"no-scroll\");\n  });\n\n  navLinks.forEach(link => {\n    link.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n\n      const targetId = link.getAttribute(\"href\").slice(1);\n      const targetSection = document.getElementById(targetId);\n\n      if (targetSection) {\n        targetSection.scrollIntoView({ behavior: \"smooth\" });\n      }\n\n      navbarOverlay.classList.remove(\"active\");\n      document.body.classList.remove(\"no-scroll\");\n    });\n  });\n\n  window.addEventListener(\"resize\", () => {\n    if (window.innerWidth >= 768 && navbarOverlay.classList.contains(\"active\")) {\n      navbarOverlay.classList.remove(\"active\");\n      document.body.classList.remove(\"no-scroll\");\n    }\n  });\n});","import Swiper from 'swiper/bundle';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nconst swiper = new Swiper('.hero-swiper', {\n  slidesPerView: 1,\n  loop: false,\n  autoHeight: false,\n  observer: true,\n  observeParents: true,\n  watchSlidesProgress: true,\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  navigation: {\n    nextEl: '.hero-swiper-button-next',\n    prevEl: '.hero-swiper-button-prev',\n  },\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n  },\n  breakpoints: {\n    768: {\n      slidesPerView: 1,\n    },\n    1440: {\n      slidesPerView: 1,\n    },\n  },\n});\n","document.addEventListener('DOMContentLoaded', () => {\n    const btn = document.getElementById('back-to-top');\n  \n    window.addEventListener('scroll', () => {\n      btn.style.display = window.scrollY > 300 ? 'block' : 'none';\n    });\n  \n    btn.addEventListener('click', () => {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n  });"],"names":["bookList","dropdownMenu","booksCounter","showMoreBtn","dropdownBtn","emptyMessage","API_TOP","API_CATEGORIES","API_SELECTED_CATEGORY","allBooks","visibleCount","booksPerPage","loadCategories","categories","axios","allCategoriesItem","cat","menuItem","error","loadBooksByCategory","category","books","item","renderBooks","updateCounter","checkVisibilityButton","booksToShow","_id","book_image","title","author","price","handleClickOnDropdown","event","elementLi","selectedCategory","Swiper","form","emailInput","submitBtn","iziToast","burgerBtn","closeBtn","navbarOverlay","navLinks","header","lastScrollTop","scrollTop","link","targetId","targetSection","btn"],"mappings":"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"}